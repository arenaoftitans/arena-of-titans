/*
Copyright (C) 2017 by Arena of Titans Contributors.

This file is part of Arena of Titans.

Arena of Titans is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Arena of Titans is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License
along with Arena of Titans. If not, see <http://www.gnu.org/licenses/>.
*/

aot-popup .popup-trump-animation {
    background-size: 100% 100%;
    height: 20vh;
    max-width: 100%;
    min-height: 20vh;  /* Needed to override min-height from .popup-content */
    position: relative;
    width: 100%;

    .smash-animation{
        .img-initiator-hero {
            animation-duration: 0.6s;
            animation-iteration-count: 1;
            animation-name: fadeIn;
            bottom: 10vh;
            height: 30vh;
            left: 22%;
            position: absolute;

            @keyframes fadeIn {
                from {
                    opacity: 0;
                }

                to {
                    opacity: 1;
                }
            }
        }


        .img-targeted-hero {
            animation-duration: 0.6s;
            animation-iteration-count: 1;
            animation-name: fadeInShake;
            bottom: 10vh;
            height: 30vh;
            left: 64%;
            position: absolute;

            @keyframes fadeInShake {
                0% {
                    opacity: 0;
                }

                75% {
                    opacity: 1;
                    transform: translate3d(0, 0, 0)
                }

                76%, 80% {
                    transform: translate3d(-18px, -12px, 0);
                }

                80%, 100% {
                    transform: translate3d(18px, 14px, 12px);
                }

                86%, 95%, 100% {
                    transform: translate3d(-20px, -14px, -12px);
                }

                80%, 90% {
                    transform: translate3d(16px, 14px, 0);
                }
            }
        }

        .img-trump {
            animation-duration: 0.5s;
            animation-iteration-count: 1;
            animation-name: Flip_and_smash;
            backface-visibility: hidden;
            bottom: 9vh;
            height: 32vh;
            left: 43%;
            perspective: 800px;
            position: absolute;
            transform-style: preserve-3d;

            @keyframes Flip_and_smash {
                0% {
                    transform: rotateY(180deg);
                }

                70% {
                    transform: rotateY(0deg);
                    transform: translate3d(0px,0px,0px) rotateX( 0deg );
                }

                90% {
                    transform: translate3d(300px, 0px, 100px);
                }
                100% {
                    transform: translate3d(0px, 0px, 0px);
                }
            }
        }

        h1 {
            animation-delay: 0.5s;
            animation-duration: 0.2s;
            animation-fill-mode: forwards;
            animation-iteration-count: 1;
            animation-name: fadein;
            left: 15%;
            opacity: 0;
            position: absolute;
            top: 30%;

            @keyframes fadein {
                0% {
                    opacity: 0;
                }


                100% {
                    opacity: 1;
                }
            }
        }
    }

    .powerup-animation {
        .hero-container {
            bottom: 10vh;
            height: 30vh;
            left: 32%;
            position: absolute;
        }

        .img-initiator-hero {
            animation-duration: 0.8s;
            animation-iteration-count: 1;
            animation-name: fadeIn;
            bottom: 10vh;
            height: 30vh;
            left: 32%;

            @keyframes fadeIn {
                from {
                    opacity: 0;

                }

                to {
                    opacity: 1;

                }
            }
        }

        .powerup_particles_big {
            animation-delay: 0.7s;
            animation-direction: normal;
            animation-duration: 0.5s;
            animation-iteration-count: 2;
            animation-name: powerup_big;
            background: url('/assets/game/backgrounds/animation-power-up-big.png') no-repeat;
            background-size: 50% 50%;
            bottom: 40vh;
            height: 100vh;
            left: -10%;
            position: relative;
            visibility: hidden;
            width: 100vh;

            @keyframes powerup_big {
                0% {
                    opacity: 0;
                    transform: translate3d(0px, 0px, 0px);
                }

                50% {
                    opacity: 0;
                    transform: translate3d(0px, 0px, 0px);
                    visibility: visible;
                }

                51% {
                    opacity: 1;
                    transform: translate3d(0px, 0px, 0px);
                    visibility: visible;
                }

                100% {
                    opacity: 1;
                    transform: translate3d(0px, -110px, 0px);
                    visibility: hidden;
                }
            }
        }

        .powerup_particles_small {
            animation-delay: 0.8s;
            animation-direction: normal;
            animation-duration: 0.5s;
            animation-iteration-count: 2;
            animation-name: powerup_small;
            background: url('/assets/game/backgrounds/animation-power-up-small.png') no-repeat;
            background-size: 50% 50%;
            bottom: 140vh;
            height: 100vh;
            left: -10%;
            position: relative;
            visibility: hidden;
            width: 100vh;

            @keyframes powerup_small {
                0% {
                    opacity: 0;
                    transform: translate3d(0px, 0px, 0px);
                }

                60% {
                    opacity: 0;
                    transform: translate3d(0px, 0px, 0px);
                    visibility: visible;
                }

                61% {
                    opacity: 1;
                    transform: translate3d(0px, 0px, 0px);
                    visibility: visible;
                }

                90% {
                    opacity: 1;
                    transform: translate3d(0px, -100px, 0px);
                    visibility: hidden;
                }
            }
        }

        .img-trump-setup {
            display: none;
        }

        .img-trump-add {
            display: block;
        }

        .img-trump {
            animation-duration: 0.8s;
            animation-iteration-count: 1;
            animation-name: Flip_and_powerup;
            backface-visibility: hidden;
            bottom: 9vh;
            display: block;
            height: 32vh;
            left: 53%;
            perspective: 800px;
            position: absolute;
            transform-style: preserve-3d;

            @keyframes Flip_and_powerup {
                0% {
                    transform: rotateY(180deg);
                }

                50% {
                    transform: rotateY(0deg);
                    transform: translate3d(0px,0px,0px) rotateX( 0deg );
                }

                60% {
                    opacity: 1;
                    transform: translate3d(-300px, 0px, 100px);
                }
                100% {
                    opacity: 0;
                    transform: translate3d(-300px, 0px, 0px);
                }
            }
        }

        h1 {
            animation-delay: 0.7s;
            animation-duration: 0.3s;
            animation-fill-mode: forwards;
            animation-iteration-count: 1;
            animation-name: fadein;
            left: 15%;
            opacity: 0;
            position: absolute;
            top: 30%;

            @keyframes fadein {
                0% {
                    opacity: 0;
                }

                100% {
                    opacity: 1;
                }
            }
        }
    }

}
